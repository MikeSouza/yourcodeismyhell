
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Your Code is My Hell: The Gamechanger</title>
  <meta name="author" content="Ryan McGreevy & Steven Turner">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="canonical" href="http://yourcodeismyhell.com/sniffs/2011/08/28/the-gamechanger/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Your Code is My Hell" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-25287616-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header><hgroup>
<a href="https://github.com/steveturner/yourcodeismyhell"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://a248.e.akamai.net/assets.github.com/img/abad93f42020b733148435e2cd92ce15c542d320/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub"></a>
<h1 id="logo"><a href="/">_YouR_C0dE = "My Hell"</a></h1>
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:yourcodeismyhell.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about.html">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    
      <h1 class="entry-title">The Gamechanger</h1>
    
    
      <p class="meta">




<time datetime="2011-08-28 22:14:00 -0600" pubdate  updated >Aug 28<span>th</span>, 2011</time>


</p>
    
  </header>


<div class="entry-content"><h2>&#8220;You can&#8217;t die?&#8221;</h2>

<p>&#8220;Well no, I didn&#8217;t get to implement that logic,&#8221;
I replied to our game design professor.
He frowned, and prodded me again,</p>

<blockquote><p>&#8220;What about the multiplayer functionality?&#8221;</p></blockquote>

<p>&#8220;Well&#8230;,&#8221; he immediately frowned again and I stammered, &#8220;The code is there to do multiplayer but
I haven&#8217;t been able to finish it yet.&#8221; At this point in time, Ryan, Mike, and myself were roughly 45 minutes out from presenting our final project
for a game design class to a roughly 100 people.</p>

<p>The game was a top down space shooter. Beginning in the fall, the class aimed to teach
students how to craft a game using the Microsoft XNA framework with a capstone presentation and playable game. From the start, we wanted a multiplayer game.
We also wanted some sort of physics mechanic. We had grand visions&#8230; this was going to be a fantastic game.
<img class='' src='http://thesecondcoming.googlecode.com/svn/trunk/data/textures/Umbrarak.png' width='' height='' alt='' title=''></p>

<!--more-->


<p>Early on in the semester, we were doing well. We had adopted a game engine for XNA. Mike was hard at work on the sprites and audio. At the first milestone,
we were the only team that even had a moveable player sprite!</p>

<p>I recall laughing at the other teams. They were crashing. I had built a level editor. They had no artwork. We had a <em>soundtrack</em>.</p>

<p>At the second milestone, a month before finals, the other teams had caught up. I was still confident. Ryan had finished the AI for enemies. Mike&#8217;s artwork was fantastic.
I had built a few levels with my editor and you could play through them and kill the bosses.</p>

<p><img class='' src='http://thesecondcoming.googlecode.com/svn/trunk/data/textures/chromothanim.png' width='' height='' alt='"The Chromoth Boss"' title='"The Chromoth Boss"'></p>

<p>The night before the presentation, I stayed up coding furiously trying to polish and implement all of the features we had promised. Birds were chirping, I had to call it quits.
All during classes the next day, I was sweating lead. I had left the code in a state that would build and run successfully, but a <em>lot</em> of our design was missing. Finally, out of class
I met up with my teamates. We got to work, tweaking this and that. We happily fired up our game for our professor to gut-check before the presentation.</p>

<blockquote><p>&#8220;How do I know if I&#8217;ve won or not?&#8221;</p></blockquote>

<p><em>Dang!</em> We started typing feverishly. It all came together in one method.</p>

<figure role=code><div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
</pre></td><td class='code' width='100%'><pre><code class='csharp'><div class='line'><span class="k">void</span> <span class="nf">_checkLevel</span><span class="p">();</span>
</div></code></pre></td></tr></table></div></figure>

<p>This method was located in &#8220;SinglePlayerLevel.cs&#8221; yet this was a multiplayer game. I never got around to refactoring. Just to be clear, I added a comment at the top:</p>

<blockquote><p>&#8220;Set up all of the objects for the level. Very Important!&#8221;</p></blockquote>

<p>Ignoring the naming convention of the method signature, you&#8217;ll find this method performs the following:</p>

<ul>
<li>Checks if a player is dead</li>
<li>Counts down to determine if they need to respawn</li>
<li>If the other player is still alive it respawns the dead player.</li>
<li>If both players are dead it proceeds to the &#8220;Game Over&#8221; screen (ahem&#8230; screen 5 hardcoded)</li>
<li>Finally if the last boss is dead (null) and we&#8217;re on the last level.. display the winning screen.</li>
</ul>


<p>You can see below just how poorly written it was. Overall, the entire game was <em>poorly</em> written and I&#8217;m glad _My_C0dE=&#8221;My Hell&#8221;.  But, we delivered <em>something</em> and that felt great.</p>

<p>Since this is the first post, we welcome all forms of criticism. Comment, fork, and contribute. Share your hellish stories.</p>

<div><script src='https://gist.github.com/1177756.js?file='></script>
<noscript><pre><code>        /// &lt;summary&gt;
        /// Set up all of the objects for the level. Very Important!
        /// &lt;/summary&gt;
        ///

        void _checkLevel()
        {



            if (_playerGroup.FindObject(&quot;Player1&quot;, false) == null &amp;&amp; _playerGroup.FindObject(&quot;Player2&quot;, false) != null)
            {
                if (_playerCountdownToSpawn &gt; 0f)
                {
                    _playerCountdownToSpawn -= 1.0f;
                }
                if (_playerCountdownToSpawn &lt;= 0f)
                {
                    T2DSceneObject playerloc2 = (T2DSceneObject)_playerGroup.FindObject(&quot;Player2&quot;, false);
                    Vector2 playerlocat2 = playerloc2.Position;

                    SinglePlayerLevel.Instance._playerGroup.ExplicitCreate(0, _playerGroup.GetPlayerIndex(playerloc2), MyGame.TankTypes.Light, false, Convert.ToInt32(playerlocat2.X) + 10, Convert.ToInt32(playerlocat2.Y));
                    _playerGroup.FindObject(&quot;Player1&quot;, false).Components.FindComponent&lt;PlayerControlComponent&gt;().setavailableWeapons(&quot;Pistol&quot;);
                    _playerGroup.FindObject(&quot;Player1&quot;, false).Components.FindComponent&lt;PlayerControlComponent&gt;().setweaponType(&quot;Pistol&quot;);
                    _playerGroup.SetAllPlayerInput(true);
                    _playerCountdownToSpawn = 300.0f;
                }
            }

            if (_playerGroup.FindObject(&quot;Player2&quot;, false) == null &amp;&amp; _playerGroup.FindObject(&quot;Player1&quot;, false) != null)
            {
                if (_playerCountdownToSpawn &gt; 0f)
                {
                    _playerCountdownToSpawn -= 1.0f;
                }
                if (_playerCountdownToSpawn &lt;= 0f)
                {
                    T2DSceneObject playerloc1 = (T2DSceneObject)_playerGroup.FindObject(&quot;Player1&quot;, false);
                    Vector2 playerlocat1 = playerloc1.Position;

                    SinglePlayerLevel.Instance._playerGroup.ExplicitCreate(1, _playerGroup.GetPlayerIndex(playerloc1), MyGame.TankTypes.Light, false, Convert.ToInt32(playerlocat1.X) + 10, Convert.ToInt32(playerlocat1.Y));
                    _playerGroup.FindObject(&quot;Player2&quot;, false).Components.FindComponent&lt;PlayerControlComponent&gt;().setavailableWeapons(&quot;Scythe&quot;);
                    _playerGroup.FindObject(&quot;Player2&quot;, false).Components.FindComponent&lt;PlayerControlComponent&gt;().setavailableWeapons(&quot;GrapHook&quot;);
                    _playerGroup.FindObject(&quot;Player2&quot;, false).Components.FindComponent&lt;PlayerControlComponent&gt;().setweaponType(&quot;GrapHook&quot;);

                    _playerGroup.SetAllPlayerInput(true);
                    _playerCountdownToSpawn = 300.0f;

                }
            }




            if (_playerGroup.GetNumObjects() &lt;= 0)
            {
                GUITextStyle textStyle = new GUITextStyle();
                textStyle.SizeToText = true;
                textStyle.FontType = &quot;arial22&quot;;
                if (_splash == null)
                {
                    _splash = (T2DSceneObject)GameData.Instance.GetBattleground(5).Clone();
                    _splash.Size = new Vector2(1280, 1024);
                    _splash.Layer = 2;
                    _splash.Position = _sceneCam.Position;
                    TorqueObjectDatabase.Instance.Register(_splash);
                    GameData.Instance.StopMenuMusic();

                    GameData.Instance.StartMenuMusic(&quot;Death Music 1&quot;);
                }

            }

            if (_aiPlayerGroup.FindObject(&quot;Chromoth&quot;, false) == null)
            {

                if (_levelnumber == 3)
                {
                    _levelSplash = (T2DSceneObject)GameData.Instance.GetBattleground(6).Clone();
                    _levelSplash.Size = new Vector2(1280, 1024);
                    _levelSplash.Position = _sceneCam.Position;
                    _levelSplash.Visible = true;
                    _levelSplash.Layer = 0;
                    _CountdownToSplash = 900.0f;
                    TorqueObjectDatabase.Instance.Register(_levelSplash);
                   // GameData.Instance.StartMenuMusic(&quot;music1&quot;);
                }


            }
            if (_levelSplash.Visible == true)
            {
                _CountdownToSplash -= 1.0f;


            }

            if (_CountdownToSplash &lt;= 0.0f)
            {
                _levelSplash.Visible = false;
                if (_levelnumber == 3)
                {
                    GameData.Instance.StartMenuMusic(&quot;Boss Music 1&quot;);
                }
                else
                {
                    GameData.Instance.StartMenuMusic(&quot;music1&quot;);
                }

               // TorqueObjectDatabase.Instance.Unregister(_levelSplash);
            }

        }</code></pre></noscript></div>



</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Ryan McGreevy & Steven Turner</span></span>

      




<time datetime="2011-08-28 22:14:00 -0600" pubdate  updated >Aug 28<span>th</span>, 2011</time>



      

<span class="categories">
  
    <a class='category' href='/blog/categories/Games/'>Games</a>, <a class='category' href='/blog/categories/Pressure/'>Pressure</a>, <a class='category' href='/blog/categories/Student/'>Student</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://yourcodeismyhell.com/sniffs/2011/08/28/the-gamechanger/" data-via="yourcodemyhell" data-counturl="http://yourcodeismyhell.com/sniffs/2011/08/28/the-gamechanger/" >Tweet</a>
  
  
  <g:plusone size="medium"></g:plusone>
  
</div>

    
   <script type="text/javascript"><!--
	google_ad_client = "ca-pub-0727583730923305";
	/* Blog Post */
	google_ad_slot = "1130769426";
	google_ad_width = 468;
	google_ad_height = 15;
	//-->
	</script>
	<script type="text/javascript"
	src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'yourcodeismyhell';
  var disqus_identifier = 'http://yourcodeismyhell.com/sniffs/2011/08/28/the-gamechanger/';
  var disqus_url = 'http://yourcodeismyhell.com/sniffs/2011/08/28/the-gamechanger/';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside role=sidebar>
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/sniffs/2011/08/28/the-gamechanger/">The Gamechanger</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("yourcodemyhell", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/yourcodemyhell" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @yourcodemyhell</a>
  
</section>



<section>
	<script type="text/javascript"><!--
	google_ad_client = "ca-pub-0727583730923305";
	/* Aside */
	google_ad_slot = "1130769426";
	google_ad_width = 160;
	google_ad_height = 600;
	//-->
	</script>
	<script type="text/javascript"
	src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
</section>

  
</aside>


    </div>
  </div>
  <footer><p>
  Copyright &copy; 2011 - Ryan McGreevy & Steven Turner -
  <a href="http://www.cafepress.com/YourCodeisMyHell">Support YC="MH"@CafePress</a>
    <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>,
      <a href="http://www.vim.org">VIM</a>,&<a href="http://www.github.com">Github</a>
    </span>
</p>

</footer>
</body>
</html>
